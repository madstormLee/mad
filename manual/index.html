<h1>Manual Index</h1>

<nav class='component'>
	<a href='./'>Index</a>
	<a href='./write'>Write New</a>
</nav>

<section id='manualIndex'>
<? function manualIndexIterator( $data, $path='' ) { ?>
	<dl>
	<? foreach( $data as $key => $row ) : ?>
		<? $currentPath = $path . '/' . $key?>
		<dt>
			<a href='./view?path=<?=$currentPath?>'><?=$row->title?></a>
			<a class='btnNew' href='./new?path=<?=$currentPath?>'>추가</a>
			<a href='./write?path=<?=$currentPath?>'>편집</a>
			<a href='./delete?path=<?=$currentPath?>'>삭제</a>
		</dt>
		<? if ( $row->sub ) : ?>
		<dd><? manualIndexIterator( $row->sub, $currentPath ) ?></dd>
		<? endif; ?>
	<? endforeach; ?>
	</dl>
<? }; manualIndexIterator( $list ); // end function ?>
</section>

<form id='newForm' style='display: none' method='post' action='./new'>
	<input id='name' name='name' value='' />
	<input id='title' name='title' value='' />
</form>
